<am:InfoPageBase x:Class="YuLinTu.Library.Controls.VirtualPesonSelectPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:wpftoolkit="http://schemas.xceed.com/wpf/xaml/toolkit"
             xmlns:metro="clr-namespace:YuLinTu.Windows.Wpf.Metro;assembly=YuLinTu.Windows.Wpf.Metro"
             xmlns:cmps="clr-namespace:YuLinTu.Windows.Wpf.Metro.Components;assembly=YuLinTu.Windows.Wpf.Metro"
             xmlns:am="clr-namespace:YuLinTu.Library.Controls" 
             Icon="pack://application:,,,/YuLinTu.Resources;component/Images/16/property.png"
             Header="承包方选择"
             MinHeight="400" MinWidth="560" >
    <am:InfoPageBase.Resources>
        <Style TargetType="Label"  x:Key="LeftStyle">
            <Style.Setters>
                <Setter Property="HorizontalContentAlignment"
                                    Value="Left" />
                <Setter Property="VerticalContentAlignment"
                                    Value="Center" />
                <Setter Property="Width"
                                    Value="85" />
                <Setter Property="Height"
                                    Value="25" />
                <Setter Property="Margin"
                                    Value="0" />
            </Style.Setters>
        </Style>
        <am:ICNToImageConverter x:Key="ICNToImageConverter"/>
    </am:InfoPageBase.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid Margin="0,0,0,10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Border BorderThickness="0" Height="38" Margin="10,0,10,0">
                <DockPanel LastChildFill="True" >
                    <Label Content="快速过滤:" VerticalContentAlignment="Center" DockPanel.Dock="Left"/>
                    <CheckBox Content="全匹配" VerticalAlignment="Center" Margin="10,0,0,0" Name="cbAll" IsChecked="{Binding Path=AllClick,Mode=TwoWay}" Click="cbAll_Checked" DockPanel.Dock="Right"/>
                    <cmps:MetroTextBox Height="30"  VerticalContentAlignment="Center"
                                                   Name="txtwh" MaxLength="50"
                                                   TextChanged="txtwh_TextChanged" />
                </DockPanel>
            </Border>
            <cmps:MetroListBox Grid.Row="1" SelectionChanged="boxHosts_SelectionChanged_1"   SelectionMode="Single"
                x:Name="boxHosts" Width="560" MaxHeight="500" VirtualizingPanel.IsVirtualizing="True" MouseDoubleClick="boxHosts_MouseDoubleClick_1" Margin="10,2,10,5" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                <cmps:MetroListBox.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel/>
                    </ItemsPanelTemplate>
                </cmps:MetroListBox.ItemsPanel>
                <cmps:MetroListBox.ItemTemplate>
                    <DataTemplate> 
                        <cmps:BusyImageTextItem  VirtualizingPanel.IsVirtualizing="True" Text="{Binding Path=Name}"  HorizontalAlignment="Left" Width="60"
                    Image="{Binding Path=Gender}">
                        </cmps:BusyImageTextItem> 

                    </DataTemplate>
                </cmps:MetroListBox.ItemTemplate>
            </cmps:MetroListBox>

        </Grid>

        <Border BorderBrush="LightGray" Margin="10,0,10,0" BorderThickness="0,1,0,0" SnapsToDevicePixels="True" Grid.Row="2" >
            <DockPanel Margin="0,5,0,5"  LastChildFill="False" >
                <metro:MetroButton DockPanel.Dock="Right" BorderThickness="0"
                                       Padding="5" Height="30"
                                       Style="{DynamicResource Metro_Button_Paneled_Style}" ToolTip="取消选择"
                                       Command="{x:Static metro:MetroCommands.CloseTabMessageBoxCommand}">
                    <StackPanel Orientation="Horizontal">
                        <Image RenderOptions.BitmapScalingMode="NearestNeighbor"
                                   Source="pack://application:,,,/YuLinTu.Resources;component/Images/16/application--minus.png"></Image>
                        <TextBlock Margin="3,0,0,0" 
                                       VerticalAlignment="Center"
                                       Text="取消"></TextBlock>
                    </StackPanel>
                </metro:MetroButton>
                <metro:MetroButton DockPanel.Dock="Right" BorderThickness="0" Name="btnComit"
                                       Padding="5"  Height="30"
                                       Click="btnComit_Click"
                                       IsEnabled="False" ToolTip="确定选择承包方"
                                       Style="{DynamicResource Metro_Button_Paneled_Style}">
                    <StackPanel Orientation="Horizontal">
                        <Image RenderOptions.BitmapScalingMode="NearestNeighbor" Stretch="None"
                                   Source="pack://application:,,,/YuLinTu.Resources;component/Images/16/tick.png"></Image>
                        <TextBlock Margin="3,0,0,0"
                                       VerticalAlignment="Center"
                                       Text="确定"></TextBlock>
                    </StackPanel>
                </metro:MetroButton>
            </DockPanel>
        </Border>
    </Grid>
</am:InfoPageBase>
