<am:InfoPageBase x:Class="YuLinTu.Library.Controls.PersonLockPage"
                            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                            xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                            xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                            xmlns:wpftoolkit="http://schemas.xceed.com/wpf/xaml/toolkit"
                            xmlns:metro="clr-namespace:YuLinTu.Windows.Wpf.Metro;assembly=YuLinTu.Windows.Wpf.Metro"
                            xmlns:cmps="clr-namespace:YuLinTu.Windows.Wpf.Metro.Components;assembly=YuLinTu.Windows.Wpf.Metro"
                             xmlns:am="clr-namespace:YuLinTu.Library.Controls"
                            Icon="pack://application:,,,/YuLinTu.Resources;component/Images/16/property.png"
                            Header="选择锁定用户列表"
                            MinHeight="400" MinWidth="650">
    <am:InfoPageBase.Resources>
        <am:LockValueConvert x:Key="LockValueConvert"/>
    </am:InfoPageBase.Resources>
    <Grid >
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.Resources>
            <Style x:Key="LableStyle" TargetType="Label">
                <Setter Property="Height" Value="25"/>
                <Setter Property="VerticalContentAlignment" Value="Center"/>
                <Setter Property="VerticalAlignment" Value="Center"/>
                <Setter Property="HorizontalContentAlignment" Value="Left"/>
                <Setter Property="HorizontalAlignment" Value="Left"/>
            </Style>
        </Grid.Resources>
        <Grid>
            <cmps:LoadingIcon Width="16"
                              Height="16"
                              HorizontalAlignment="Center"
                              VerticalAlignment="Center"
                              Visibility="{Binding Path=IsBusy, Converter={StaticResource BoolToVisibilityConverter}}"
                              RenderOptions.BitmapScalingMode="NearestNeighbor"></cmps:LoadingIcon>
            <cmps:MetroListBox x:Name="lbItem" Width="630" Margin="10,5,10,10" ScrollViewer.HorizontalScrollBarVisibility="Disabled"  Visibility="{Binding Path=IsBusy, Converter={StaticResource NotBoolToVisibilityConverter}}" >
                <cmps:MetroListBox.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel/>
                    </ItemsPanelTemplate>
                </cmps:MetroListBox.ItemsPanel>
                <cmps:MetroListBox.ItemTemplate>
                    <DataTemplate>
                        <CheckBox Content="{Binding Name}" Tag="{Binding ID}" IsChecked="{Binding Status,Converter={StaticResource LockValueConvert},Mode=OneWay}" Width="80" BorderThickness="0" Click="vpItem_Click"/>
                    </DataTemplate>
                </cmps:MetroListBox.ItemTemplate>
            </cmps:MetroListBox>
        </Grid>
        <Border BorderThickness="0,1,0,0" Grid.Row="1" BorderBrush="LightGray" Margin="10,0,10,0" SnapsToDevicePixels="True">
            <DockPanel HorizontalAlignment="Stretch" LastChildFill="False" VerticalAlignment="Bottom" Margin="0,5,0,5" DockPanel.Dock="Bottom">
                <CheckBox Content="全选" VerticalAlignment="Center" Name="cbAllSelect" Click="cbAllSelect_Click"/>
                <metro:MetroButton Height="30" DockPanel.Dock="Right"
                               Padding="5"
                               Command="{x:Static metro:MetroCommands.CloseTabMessageBoxCommand}"
                               Style="{StaticResource Metro_Button_Paneled_Style}" IsEnabled="{Binding CanClose}">
                    <StackPanel Orientation="Horizontal">
                        <Image RenderOptions.BitmapScalingMode="NearestNeighbor"
                    Source="pack://application:,,,/YuLinTu.Resources;component/Images/16/application--minus.png"></Image>
                        <TextBlock Margin="3,0,0,0"
                           VerticalAlignment="Center"
                         Text="取消"></TextBlock>
                    </StackPanel>
                </metro:MetroButton>
                <metro:MetroButton DockPanel.Dock="Right" Margin="0,0,5,0"
                               Padding="5" x:Name="btnAdd"
                               Click="btnAdd_Click" Height="30"
                               IsEnabled="{Binding CanClose}"
                               Style="{StaticResource Metro_Button_Paneled_Style}">
                    <StackPanel Orientation="Horizontal">
                        <Image RenderOptions.BitmapScalingMode="NearestNeighbor" Stretch="None"
                       Source="pack://application:,,,/YuLinTu.Resources;component/Images/16/tick.png"></Image>
                        <TextBlock Margin="3,0,0,0"
                           VerticalAlignment="Center"
                           Text="确定"></TextBlock>
                    </StackPanel>
                </metro:MetroButton>
            </DockPanel>
        </Border>
    </Grid>
</am:InfoPageBase>