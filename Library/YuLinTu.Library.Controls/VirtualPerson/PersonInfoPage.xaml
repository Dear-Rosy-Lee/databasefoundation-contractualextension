<am:InfoPageBase
    x:Class="YuLinTu.Library.Controls.PersonInfoPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:am="clr-namespace:YuLinTu.Library.Controls"
    xmlns:cmps="clr-namespace:YuLinTu.Windows.Wpf.Metro.Components;assembly=YuLinTu.Windows.Wpf.Metro"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:metro="clr-namespace:YuLinTu.Windows.Wpf.Metro;assembly=YuLinTu.Windows.Wpf.Metro"
    xmlns:wpftoolkit="http://schemas.xceed.com/wpf/xaml/toolkit"
    xmlns:ctr="clr-namespace:Utils.Controls;assembly=Utils.Controls"
    MinWidth="550"
    MinHeight="150"
    Header="共有人信息" Loaded="InfoPageBase_Loaded"
    Icon="pack://application:,,,/YuLinTu.Resources;component/Images/16/property.png">
    <am:InfoPageBase.Resources>
        <ResourceDictionary Source="/Utils.Controls;component/Styles/AutoComplete.Styles.xaml" />
    </am:InfoPageBase.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Grid.Resources>
            <Style x:Key="LableStyle" TargetType="Label">
                <Setter Property="Height" Value="25" />
                <Setter Property="VerticalContentAlignment" Value="Center" />
                <Setter Property="VerticalAlignment" Value="Center" />
                <Setter Property="HorizontalContentAlignment" Value="Left" />
                <Setter Property="HorizontalAlignment" Value="Left" />
            </Style>
        </Grid.Resources>
        <ScrollViewer
            Name="svInfo"
            HorizontalScrollBarVisibility="Hidden"
            PanningMode="VerticalOnly"
            VerticalScrollBarVisibility="Auto">
            <Grid Margin="10" Validation.ErrorTemplate="{x:Null}">
                <!--<Grid.BindingGroup>
                    <BindingGroup></BindingGroup>
                </Grid.BindingGroup>-->
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="80" />
                    <ColumnDefinition Width="225" />
                    <ColumnDefinition Width="80" />
                    <ColumnDefinition Width="225" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="5" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="5" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="5" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="5" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="5" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="5" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="5" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <!--<Label Content="姓名:" Style="{StaticResource LableStyle}"/>
                <DockPanel LastChildFill="True" Grid.Column="1">
                    <Image Name="XMImg"  Width="15" Height="15" DockPanel.Dock="Right" Margin="5,0,3,0" Visibility="Collapsed"/>
                    <cmps:MetroTextBox Name="txt_Name"  MaxLength="20" Height="30" VerticalAlignment="Center" Text="{Binding Name,Mode=TwoWay}" TextChanged="txt_Name_TextChanged"/>
                </DockPanel>-->
                <cmps:ImageTextItem
                    Grid.Row="0"
                    Margin="5,0,0,0"
                    IsRequired="True"
                    Text="姓名:" />
                <!--<TextBlock Text="姓名:" Grid.Row="1" VerticalAlignment="Center" Width="100"></TextBlock>-->
                <cmps:MetroTextBox
                    Name="txt_Name"
                    Grid.Column="1"
                    Height="30">
                    <cmps:MetroTextBox.Text>
                        <Binding
                            BindingGroupName=""
                            Mode="TwoWay"
                            Path="Name"
                            UpdateSourceTrigger="LostFocus"
                            ValidatesOnDataErrors="True" />
                    </cmps:MetroTextBox.Text>
                </cmps:MetroTextBox>
                <Label
                    Grid.Column="2"
                    Content="民族:"
                    Style="{StaticResource LableStyle}" />
                <cmps:MetroComboBox
                    Name="cbNation"
                    Grid.Column="3"
                    Grid.ColumnSpan="3"
                    Height="30"
                    Padding="7,0,0,0"
                    VerticalAlignment="Center"
                    SelectionChanged="cbNation_SelectionChanged"
                    TabIndex="4" />

                <Label
                    Grid.Row="2"
                    Content="证件类型:"
                    Style="{StaticResource LableStyle}" />
                <cmps:MetroComboBox
                    Name="cbCardType"
                    Grid.Row="2"
                    Grid.Column="1"
                    Grid.ColumnSpan="3"
                    Height="30"
                    Padding="7,0,0,0"
                    VerticalAlignment="Center"
                    SelectionChanged="cbCardType_SelectionChanged" />

                <Label
                    Grid.Row="4"
                    Content="证件号码:"
                    Style="{StaticResource LableStyle}" />
                <DockPanel
                    Grid.Row="4"
                    Grid.Column="1"
                    Grid.ColumnSpan="3"
                    LastChildFill="True">
                    <Image
                        Name="ZjImg"
                        Width="15"
                        Height="15"
                        Margin="5,0,3,0"
                        DockPanel.Dock="Right"
                        Visibility="Visible" />
                    <cmps:MetroTextBox
                        Name="txt_ICN"
                        Height="30"
                        VerticalAlignment="Center"
                        InputMethod.IsInputMethodEnabled="False"
                        MaxLength="25"
                        Text="{Binding ICN, Mode=TwoWay}"
                        TextChanged="txt_ICN_TextChanged" />
                </DockPanel>

                <Label
                    Grid.Row="6"
                    Content="性别:"
                    Style="{StaticResource LableStyle}" />
                <cmps:MetroComboBox
                    Name="cbGender"
                    Grid.Row="6"
                    Grid.Column="1"
                    Height="30"
                    Padding="7,0,0,0"
                    VerticalAlignment="Center"
                    IsEnabled="False" />
                <Label
                    Grid.Row="6"
                    Grid.Column="2"
                    Content="年龄:"
                    Style="{StaticResource LableStyle}" />
                <!--<cmps:MetroTextBox Name="txt_Age" IsEnabled="False" Grid.Row="3" Text="{Binding Age}" Grid.Column="3" VerticalAlignment="Center" InputMethod.IsInputMethodEnabled="False" />-->
                <wpftoolkit:DoubleUpDown
                    x:Name="txt_Age"
                    Grid.Row="6"
                    Grid.Column="3"
                    Height="28"
                    VerticalAlignment="Center"
                    BorderThickness="1"
                    Increment="1"
                    IsEnabled="False"
                    Maximum="200"
                    Minimum="0"
                    TabIndex="7"
                    Value="{Binding Age, Mode=TwoWay}" />

                <Label
                    Grid.Row="8"
                    Content="出生日期:"
                    Style="{StaticResource LableStyle}" />
                <wpftoolkit:DateTimeUpDown
                    Name="txt_Birthday"
                    Grid.Row="8"
                    Grid.Column="1"
                    Height="28"
                    VerticalAlignment="Center"
                    BorderThickness="1"
                    FocusableChanged="txt_Birthday_FocusableChanged"
                    Format="ShortDate"
                    IsEnabled="False"
                    ValueChanged="txt_Birthday_ValueChanged"
                    Value="{Binding Birthday, Mode=TwoWay}" />
                <Label
                    Grid.Row="8"
                    Grid.Column="2"
                    Content="家庭关系:"
                    Style="{StaticResource LableStyle}"
                    Visibility="{Binding ElementName=txt_Relationship, Path=Visibility}" />
                <cmps:MetroComboBox
                    Name="cbRelationship2"
                    Grid.Row="8"
                    Grid.Column="3"
                    Height="30"
                    VerticalAlignment="Center"
                    IsEditable="True"
                    IsTextSearchEnabled="False"
                    MaxDropDownHeight="150"  Visibility="Collapsed" />
                <ctr:AutoComplete x:Name="cbRelationship" Grid.Row="8" Grid.Column="3" SelectedValuePath="Code" DisplayMemberPath="Code"
           PatternChanged="autoCities_PatternChanged" Style="{StaticResource AutoCompleteComboBox}"
           Delay="300" SelectedValue="2" Height="32" MaxDropDownHeight="150"  Width="225"/>
                <Label
                    Grid.Row="10"
                    Content="是否共有人:"
                    Style="{StaticResource LableStyle}" />
                <cmps:MetroComboBox
                    Name="cbShare"
                    Grid.Row="10"
                    Grid.Column="1"
                    Height="30"
                    Padding="7,0,0,0"
                    VerticalAlignment="Center"
                    Text="{Binding IsSharedLand, Mode=TwoWay}" />

                <Label
                    Grid.Row="12"
                    Margin="0,5"
                    VerticalAlignment="Top"
                    Content="备注:"
                    Style="{StaticResource LableStyle}" />
                <cmps:MetroTextBox
                    Name="txt_Comment"
                    Grid.Row="12"
                    Grid.Column="1"
                    Grid.ColumnSpan="3"
                    Height="60"
                    VerticalContentAlignment="Stretch"
                    MaxLength="100"
                    Text="{Binding Comment, Mode=TwoWay}"
                    TextWrapping="Wrap" />

                <Label
                    Grid.Row="14"
                    Margin="0,5"
                    VerticalAlignment="Top"
                    Content="修改意见:"
                    Style="{StaticResource LableStyle}" />
                <cmps:MetroTextBox
                    Name="txt_Opinion"
                    Grid.Row="14"
                    Grid.Column="1"
                    Grid.ColumnSpan="3"
                    Height="60"
                    VerticalContentAlignment="Stretch"
                    MaxLength="100"
                    Text="{Binding Opinion, Mode=TwoWay}"
                    TextWrapping="Wrap" />
            </Grid>


        </ScrollViewer>
        <Border
            Grid.Row="1"
            Margin="10,0,10,0"
            BorderBrush="LightGray"
            BorderThickness="0,1,0,0"
            SnapsToDevicePixels="True">
            <DockPanel
                Margin="0,5,0,5"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Bottom"
                DockPanel.Dock="Bottom"
                LastChildFill="False">
                <metro:MetroButton
                    Height="30"
                    Margin="5,0,0,0"
                    Padding="5"
                    Command="{x:Static metro:MetroCommands.CloseTabMessageBoxCommand}"
                    DockPanel.Dock="Right"
                    Style="{StaticResource Metro_Button_Paneled_Style}">
                    <StackPanel Orientation="Horizontal">
                        <Image RenderOptions.BitmapScalingMode="NearestNeighbor" Source="pack://application:,,,/YuLinTu.Resources;component/Images/16/application--minus.png" />
                        <TextBlock
                            Margin="3,0,0,0"
                            VerticalAlignment="Center"
                            Text="取消" />
                    </StackPanel>
                </metro:MetroButton>
                <metro:MetroButton
                    x:Name="btnAdd"
                    Height="30"
                    Padding="5"
                    Click="btnAdd_Click"
                    DockPanel.Dock="Right"
                    Style="{StaticResource Metro_Button_Paneled_Style}">
                    <StackPanel Orientation="Horizontal">
                        <Image
                            RenderOptions.BitmapScalingMode="NearestNeighbor"
                            Source="pack://application:,,,/YuLinTu.Resources;component/Images/16/tick.png"
                            Stretch="None" />
                        <TextBlock
                            Margin="3,0,0,0"
                            VerticalAlignment="Center"
                            Text="确定" />
                    </StackPanel>
                </metro:MetroButton>
            </DockPanel>
        </Border>
    </Grid>
</am:InfoPageBase>