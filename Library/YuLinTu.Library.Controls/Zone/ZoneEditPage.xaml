<local:InfoPageBase
    x:Class="YuLinTu.Library.Controls.ZoneEditPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:cmps="clr-namespace:YuLinTu.Windows.Wpf.Metro.Components;assembly=YuLinTu.Windows.Wpf.Metro"
    xmlns:local="clr-namespace:YuLinTu.Library.Controls"
    xmlns:metro="clr-namespace:YuLinTu.Windows.Wpf.Metro;assembly=YuLinTu.Windows.Wpf.Metro"
    MinHeight="250"
    Header="行政地域"
    Icon="pack://application:,,,/YuLinTu.Resources;component/Images/16/property.png">
    <local:InfoPageBase.Resources>
        <Style x:Key="LeftStyle" TargetType="Label">
            <Style.Setters>
                <Setter Property="HorizontalContentAlignment" Value="Left" />
                <Setter Property="VerticalContentAlignment" Value="Center" />
                <Setter Property="Width" Value="79" />
                <Setter Property="Height" Value="25" />
                <Setter Property="Margin" Value="0" />
            </Style.Setters>
        </Style>
    </local:InfoPageBase.Resources>
    <Grid x:Name="gridContent">
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <ScrollViewer
            MinHeight="165"
            Margin="10"
            HorizontalScrollBarVisibility="Hidden"
            PanningMode="VerticalOnly"
            VerticalScrollBarVisibility="Auto">
            <Grid Width="600">
                <Grid Name="spInfo">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="88" />
                        <ColumnDefinition Width="30*" />
                        <ColumnDefinition Width="90" />
                        <ColumnDefinition Width="30*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="5" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="5" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="5" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="5" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <Label Content="地域名称:" Style="{StaticResource LeftStyle}" />
                    <cmps:MetroTextBox
                        Name="mtbName"
                        Grid.Column="1"
                        Height="30"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Center"
                        BorderThickness="1"
                        MaxLength="40"
                        Text="{Binding Path=CurrentZone.Name, Mode=TwoWay}"
                        TextChanged="MetroTextBox_NameChanged" />

                    <Label
                        Grid.Column="2"
                        Content="地域级别:"
                        Style="{StaticResource LeftStyle}" />
                    <cmps:MetroComboBox
                        Name="cbLevel"
                        Grid.Column="3"
                        Height="30"
                        Padding="7,0"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Center"
                        BorderThickness="1"
                        MaxDropDownHeight="110" />

                    <Label
                        Grid.Row="2"
                        Width="150"
                        VerticalAlignment="Center"
                        Content="上级地域编码:" />
                    <cmps:MetroTextBox
                        Name="mtbUpCode"
                        Grid.Row="2"
                        Grid.Column="1"
                        Height="30"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Center"
                        BorderThickness="1"
                        InputMethod.IsInputMethodEnabled="False"
                        MaxLength="19"
                        PreviewKeyDown="mtbUpCode_PreviewKeyDown"
                        PreviewTextInput="mtbUpCode_PreviewTextInput"
                        Text="{Binding Path=CurrentZone.UpLevelCode, Mode=TwoWay}"
                        TextChanged="MetroTextBox_UpCodeChanged" />

                    <Label
                        Grid.Row="4"
                        VerticalAlignment="Center"
                        Content="地域编码:" />
                    <cmps:MetroTextBox
                        Name="mtbCode"
                        Grid.Row="4"
                        Grid.Column="1"
                        Height="30"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Center"
                        BorderThickness="1"
                        InputMethod.IsInputMethodEnabled="False"
                        MaxLength="19"
                        PreviewKeyDown="mtbCode_PreviewKeyDown"
                        PreviewTextInput="mtbCode_PreviewTextInput"
                        Text="{Binding Path=CurrentZone.Code, Mode=TwoWay}"
                        TextChanged="MetroTextBox_CodeChanged" />

                    <Label
                        Grid.Row="4"
                        Grid.Column="2"
                        Content="地域全编码:"
                        Style="{StaticResource LeftStyle}" />
                    <cmps:MetroTextBox
                        Grid.Row="4"
                        Grid.Column="3"
                        Height="30"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Center"
                        BorderThickness="1"
                        IsEnabled="True"
                        IsReadOnly="True"
                        MaxLength="50"
                        Text="{Binding Path=CurrentZone.FullCode, Mode=TwoWay}" />

                    <Label
                        Grid.Row="6"
                        Content="地域全称:"
                        Style="{StaticResource LeftStyle}" />
                    <cmps:MetroTextBox
                        Grid.Row="6"
                        Grid.Column="1"
                        Grid.ColumnSpan="3"
                        Height="30"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Center"
                        BorderThickness="1"
                        IsEnabled="True"
                        IsReadOnly="False"
                        MaxLength="50"
                        Text="{Binding Path=CurrentZone.FullName, Mode=TwoWay}"
                        TextChanged="MetroTextBox_CodeChanged" />

                    <Label
                        Grid.Row="8"
                        VerticalAlignment="Top"
                        Content="备注:"
                        Style="{StaticResource LeftStyle}" />
                    <cmps:MetroTextBox
                        Name="mtbComment"
                        Grid.Row="8"
                        Grid.Column="1"
                        Grid.ColumnSpan="3"
                        Height="75"
                        VerticalContentAlignment="Stretch"
                        AcceptsReturn="True"
                        BorderThickness="1"
                        MaxLength="200"
                        MinLines="2"
                        Text="{Binding Path=CurrentZone.Comment, Mode=TwoWay}"
                        TextChanged="MetroTextBox_TextChanged"
                        TextWrapping="Wrap" />
                </Grid>
                <cmps:LoadingIcon
                    x:Name="loadIcon"
                    Width="16"
                    Height="16"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    RenderOptions.BitmapScalingMode="NearestNeighbor" />
            </Grid>
        </ScrollViewer>
        <Border
            Grid.Row="1"
            Margin="10,0,10,0"
            BorderBrush="LightGray"
            BorderThickness="0,1,0,0"
            SnapsToDevicePixels="True">
            <DockPanel Margin="0,5,0,5" LastChildFill="True">
                <metro:MetroButton
                    x:Name="btnCancel"
                    Height="30"
                    Margin="5,0,0,0"
                    Padding="5"
                    Command="{x:Static metro:MetroCommands.CloseTabMessageBoxCommand}"
                    DockPanel.Dock="Right"
                    Style="{StaticResource Metro_Button_Paneled_Style}">
                    <StackPanel Orientation="Horizontal">
                        <Image RenderOptions.BitmapScalingMode="NearestNeighbor" Source="pack://application:,,,/YuLinTu.Resources;component/Images/16/application--minus.png" />
                        <TextBlock
                            Margin="3,0,0,0"
                            VerticalAlignment="Center"
                            Text="取消" />
                    </StackPanel>
                </metro:MetroButton>

                <metro:MetroButton
                    Name="btnSubmit"
                    Height="30"
                    Padding="5"
                    Click="MetroButton_Click_1"
                    DockPanel.Dock="Right"
                    Style="{StaticResource Metro_Button_Paneled_Style}">
                    <StackPanel Orientation="Horizontal">
                        <Image
                            RenderOptions.BitmapScalingMode="NearestNeighbor"
                            Source="pack://application:,,,/YuLinTu.Resources;component/Images/16/tick.png"
                            Stretch="None" />
                        <TextBlock
                            Margin="3,0,0,0"
                            VerticalAlignment="Center"
                            Text="确定" />
                    </StackPanel>
                </metro:MetroButton>
                <CheckBox DockPanel.Dock="Left" IsChecked="True" Margin="5,0" Content="创建默认发包方" x:Name="cb_recode"></CheckBox>
                <TextBlock
                    Name="lbTip"
                    VerticalAlignment="Center"
                    DockPanel.Dock="Left" />
            </DockPanel>
        </Border>
    </Grid>
</local:InfoPageBase>